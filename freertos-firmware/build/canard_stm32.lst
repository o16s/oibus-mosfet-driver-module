ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"canard_stm32.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.isFramePriorityHigher,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	isFramePriorityHigher:
  25              	.LFB6:
  26              		.file 1 "Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c"
   1:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** /*
   2:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  * Copyright (c) 2017 UAVCAN Team
   3:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  *
   4:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  * Distributed under the MIT License, available in the file LICENSE.
   5:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  *
   6:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  * Author: Pavel Kirienko <pavel.kirienko@zubax.com>
   7:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  */
   8:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
   9:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #include "canard_stm32.h"
  10:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #include "_internal_bxcan.h"
  11:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #include <unistd.h>
  12:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #include "cmsis_os.h"
  13:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  14:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  15:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if CANARD_STM32_USE_CAN2
  16:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** # define BXCAN                                                  CANARD_STM32_CAN2
  17:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #else
  18:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** # define BXCAN                                                  CANARD_STM32_CAN1
  19:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
  20:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  21:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** /*
  22:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  * State variables
  23:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****  */
  24:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static CanardSTM32Stats g_stats;
  25:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  26:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static bool g_abort_tx_on_error = false;
  27:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  28:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  29:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static bool isFramePriorityHigher(uint32_t a, uint32_t b)
  30:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
  27              		.loc 1 30 0
  28              		.cfi_startproc
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 2


  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
  33 0000 10B4     		push	{r4}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 4, -4
  37 0002 0346     		mov	r3, r0
  31:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const uint32_t clean_a = a & CANARD_CAN_EXT_ID_MASK;
  38              		.loc 1 31 0
  39 0004 20F06044 		bic	r4, r0, #-536870912
  40              	.LVL1:
  32:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const uint32_t clean_b = b & CANARD_CAN_EXT_ID_MASK;
  41              		.loc 1 32 0
  42 0008 21F06042 		bic	r2, r1, #-536870912
  43              	.LVL2:
  33:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  34:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
  35:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * STD vs EXT - if 11 most significant bits are the same, EXT loses.
  36:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
  37:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const bool ext_a = (a & CANARD_CAN_FRAME_EFF) != 0;
  38:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const bool ext_b = (b & CANARD_CAN_FRAME_EFF) != 0;
  44              		.loc 1 38 0
  45 000c C80F     		lsrs	r0, r1, #31
  46              	.LVL3:
  39:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (ext_a != ext_b)
  47              		.loc 1 39 0
  48 000e B0EBD37F 		cmp	r0, r3, lsr #31
  49 0012 10D0     		beq	.L2
  50              	.LBB2:
  40:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
  41:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const uint32_t arb11_a = ext_a ? (clean_a >> 18U) : clean_a;
  51              		.loc 1 41 0
  52 0014 002B     		cmp	r3, #0
  53 0016 0ADB     		blt	.L8
  54              	.LVL4:
  55              	.L3:
  42:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const uint32_t arb11_b = ext_b ? (clean_b >> 18U) : clean_b;
  56              		.loc 1 42 0 discriminator 4
  57 0018 0029     		cmp	r1, #0
  58 001a 0ADB     		blt	.L9
  59              	.LVL5:
  60              	.L4:
  43:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (arb11_a != arb11_b)
  61              		.loc 1 43 0 discriminator 4
  62 001c 9442     		cmp	r4, r2
  63 001e 03D0     		beq	.L5
  44:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
  45:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             return arb11_a < arb11_b;
  64              		.loc 1 45 0
  65 0020 9442     		cmp	r4, r2
  66 0022 2CBF     		ite	cs
  67 0024 0020     		movcs	r0, #0
  68              	.LVL6:
  69 0026 0120     		movcc	r0, #1
  70              	.LVL7:
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 3


  71              	.L5:
  72              	.LBE2:
  46:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
  47:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         else
  48:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
  49:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             return ext_b;
  50:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
  51:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
  52:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  53:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
  54:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * RTR vs Data frame - if frame identifiers and frame types are the same, RTR loses.
  55:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
  56:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const bool rtr_a = (a & CANARD_CAN_FRAME_RTR) != 0;
  57:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const bool rtr_b = (b & CANARD_CAN_FRAME_RTR) != 0;
  58:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((clean_a == clean_b) && (rtr_a != rtr_b))
  59:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
  60:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return rtr_b;
  61:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
  62:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  63:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
  64:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Plain ID arbitration - greater value loses.
  65:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
  66:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return clean_a < clean_b;
  67:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
  73              		.loc 1 67 0
  74 0028 5DF8044B 		ldr	r4, [sp], #4
  75              	.LCFI1:
  76              		.cfi_remember_state
  77              		.cfi_restore 4
  78              		.cfi_def_cfa_offset 0
  79 002c 7047     		bx	lr
  80              	.LVL8:
  81              	.L8:
  82              	.LCFI2:
  83              		.cfi_restore_state
  84              	.LBB3:
  41:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const uint32_t arb11_b = ext_b ? (clean_b >> 18U) : clean_b;
  85              		.loc 1 41 0 discriminator 1
  86 002e A40C     		lsrs	r4, r4, #18
  87              	.LVL9:
  88 0030 F2E7     		b	.L3
  89              	.LVL10:
  90              	.L9:
  42:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (arb11_a != arb11_b)
  91              		.loc 1 42 0 discriminator 1
  92 0032 920C     		lsrs	r2, r2, #18
  93              	.LVL11:
  94 0034 F2E7     		b	.L4
  95              	.LVL12:
  96              	.L2:
  97              	.LBE3:
  56:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const bool rtr_b = (b & CANARD_CAN_FRAME_RTR) != 0;
  98              		.loc 1 56 0
  99 0036 C3F38073 		ubfx	r3, r3, #30, #1
 100              	.LVL13:
  57:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((clean_a == clean_b) && (rtr_a != rtr_b))
 101              		.loc 1 57 0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 4


 102 003a C1F38070 		ubfx	r0, r1, #30, #1
 103              	.LVL14:
  58:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 104              		.loc 1 58 0
 105 003e 9442     		cmp	r4, r2
 106 0040 04D0     		beq	.L10
 107              	.L6:
  66:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 108              		.loc 1 66 0
 109 0042 9442     		cmp	r4, r2
 110 0044 2CBF     		ite	cs
 111 0046 0020     		movcs	r0, #0
 112              	.LVL15:
 113 0048 0120     		movcc	r0, #1
 114 004a EDE7     		b	.L5
 115              	.LVL16:
 116              	.L10:
  58:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 117              		.loc 1 58 0 discriminator 1
 118 004c 8342     		cmp	r3, r0
 119 004e EBD1     		bne	.L5
 120 0050 F7E7     		b	.L6
 121              		.cfi_endproc
 122              	.LFE6:
 124              		.section	.text.convertFrameIDCanardToRegister,"ax",%progbits
 125              		.align	1
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu fpv4-sp-d16
 131              	convertFrameIDCanardToRegister:
 132              	.LFB7:
  68:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  69:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** /// Converts libcanard ID value into the bxCAN TX ID register format.
  70:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static uint32_t convertFrameIDCanardToRegister(const uint32_t id)
  71:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 133              		.loc 1 71 0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 0
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137              		@ link register save eliminated.
 138              	.LVL17:
  72:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     uint32_t out = 0;
  73:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  74:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (id & CANARD_CAN_FRAME_EFF)
 139              		.loc 1 74 0
 140 0000 021E     		subs	r2, r0, #0
 141 0002 06DB     		blt	.L15
  75:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
  76:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out = ((id & CANARD_CAN_EXT_ID_MASK) << 3U) | CANARD_STM32_CAN_TIR_IDE;
  77:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
  78:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     else
  79:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
  80:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out = ((id & CANARD_CAN_STD_ID_MASK) << 21U);
 142              		.loc 1 80 0
 143 0004 5005     		lsls	r0, r2, #21
 144              	.LVL18:
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 5


 145              	.L13:
  81:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
  82:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  83:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (id & CANARD_CAN_FRAME_RTR)
 146              		.loc 1 83 0
 147 0006 12F0804F 		tst	r2, #1073741824
 148 000a 01D0     		beq	.L11
  84:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
  85:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out |= CANARD_STM32_CAN_TIR_RTR;
 149              		.loc 1 85 0
 150 000c 40F00200 		orr	r0, r0, #2
 151              	.LVL19:
 152              	.L11:
  86:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
  87:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  88:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return out;
  89:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 153              		.loc 1 89 0
 154 0010 7047     		bx	lr
 155              	.LVL20:
 156              	.L15:
  76:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 157              		.loc 1 76 0
 158 0012 D300     		lsls	r3, r2, #3
 159 0014 43F00400 		orr	r0, r3, #4
 160              	.LVL21:
 161 0018 F5E7     		b	.L13
 162              		.cfi_endproc
 163              	.LFE7:
 165              		.section	.text.convertFrameIDRegisterToCanard,"ax",%progbits
 166              		.align	1
 167              		.syntax unified
 168              		.thumb
 169              		.thumb_func
 170              		.fpu fpv4-sp-d16
 172              	convertFrameIDRegisterToCanard:
 173              	.LFB8:
  90:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  91:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** /// Converts bxCAN TX/RX (sic! both RX/TX are supported) ID register value into the libcanard ID fo
  92:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static uint32_t convertFrameIDRegisterToCanard(const uint32_t id)
  93:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 174              		.loc 1 93 0
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 0
 177              		@ frame_needed = 0, uses_anonymous_args = 0
 178              		@ link register save eliminated.
 179              	.LVL22:
  94:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if (CANARD_STM32_CAN_TIR_RTR != CANARD_STM32_CAN_RIR_RTR) ||\
  95:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     (CANARD_STM32_CAN_TIR_IDE != CANARD_STM32_CAN_RIR_IDE)
  96:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** # error "RIR bits do not match TIR bits, TIR --> libcanard conversion is not possible"
  97:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
  98:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
  99:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     uint32_t out = 0;
 100:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 101:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((id & CANARD_STM32_CAN_RIR_IDE) == 0)
 180              		.loc 1 101 0
 181 0000 10F0040F 		tst	r0, #4
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 6


 182 0004 07D1     		bne	.L17
 102:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 103:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out = (CANARD_CAN_STD_ID_MASK & (id >> 21U));
 183              		.loc 1 103 0
 184 0006 430D     		lsrs	r3, r0, #21
 185              	.LVL23:
 186              	.L18:
 104:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 105:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     else
 106:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 107:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out = (CANARD_CAN_EXT_ID_MASK & (id >> 3U)) | CANARD_CAN_FRAME_EFF;
 108:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 109:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 110:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((id & CANARD_STM32_CAN_RIR_RTR) != 0)
 187              		.loc 1 110 0
 188 0008 10F0020F 		tst	r0, #2
 189 000c 01D0     		beq	.L16
 111:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 112:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         out |= CANARD_CAN_FRAME_RTR;
 190              		.loc 1 112 0
 191 000e 43F08043 		orr	r3, r3, #1073741824
 192              	.LVL24:
 193              	.L16:
 113:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 114:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 115:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return out;
 116:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 194              		.loc 1 116 0
 195 0012 1846     		mov	r0, r3
 196              	.LVL25:
 197 0014 7047     		bx	lr
 198              	.LVL26:
 199              	.L17:
 107:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 200              		.loc 1 107 0
 201 0016 C308     		lsrs	r3, r0, #3
 202 0018 43F00043 		orr	r3, r3, #-2147483648
 203              	.LVL27:
 204 001c F4E7     		b	.L18
 205              		.cfi_endproc
 206              	.LFE8:
 208              		.section	.text.processErrorStatus,"ax",%progbits
 209              		.align	1
 210              		.syntax unified
 211              		.thumb
 212              		.thumb_func
 213              		.fpu fpv4-sp-d16
 215              	processErrorStatus:
 216              	.LFB10:
 117:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 118:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 119:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static bool waitMSRINAKBitStateChange(volatile const CanardSTM32CANType* const bxcan, const bool ta
 120:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 121:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /**
 122:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * A properly functioning bus will exhibit 11 consecutive recessive bits at the end of every co
 123:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * or while the bus is idle. The 11 consecutive recessive bits are made up of:
 124:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      *  1 bit - acknowledgement delimiter
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 7


 125:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      *  7 bit - end of frame bits
 126:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      *  3 bit - inter frame space
 127:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * This adds up to 11; therefore, it is not really necessary to wait longer than a few frame TX
 128:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 129:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     static const uint16_t TimeoutMilliseconds = 1000;
 130:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 131:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     for (uint16_t wait_ack = 0; wait_ack < TimeoutMilliseconds; wait_ack++)
 132:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 133:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const bool state = (bxcan->MSR & CANARD_STM32_CAN_MSR_INAK) != 0;
 134:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (state == target_state)
 135:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 136:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             return true;
 137:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 138:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 139:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         // Sleep 1 millisecond
 140:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         osDelay(1);
 141:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 142:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 143:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return false;
 144:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 145:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 146:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 147:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** static void processErrorStatus(void)
 148:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 217              		.loc 1 148 0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              		@ link register save eliminated.
 149:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 150:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Aborting TX transmissions if abort on error was requested
 151:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Updating error counter
 152:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 153:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     const uint8_t lec = (uint8_t)((BXCAN->ESR & CANARD_STM32_CAN_ESR_LEC_MASK) >> CANARD_STM32_CAN_
 222              		.loc 1 153 0
 223 0000 104B     		ldr	r3, .L27
 224 0002 9B69     		ldr	r3, [r3, #24]
 225              	.LVL28:
 154:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 155:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (lec != 0)
 226              		.loc 1 155 0
 227 0004 13F0700F 		tst	r3, #112
 228 0008 1BD0     		beq	.L24
 148:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 229              		.loc 1 148 0
 230 000a 4DF804BD 		push	{fp}
 231              	.LCFI3:
 232              		.cfi_def_cfa_offset 4
 233              		.cfi_offset 11, -4
 156:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 157:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         BXCAN->ESR = 0;                 // This action does only affect the LEC bits, other bits ar
 234              		.loc 1 157 0
 235 000e 0D4B     		ldr	r3, .L27
 236              	.LVL29:
 237 0010 0022     		movs	r2, #0
 238 0012 9A61     		str	r2, [r3, #24]
 158:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         g_stats.error_count++;
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 8


 239              		.loc 1 158 0
 240 0014 0C49     		ldr	r1, .L27+4
 241 0016 D1E902BC 		ldrd	fp, [r1, #8]
 242 001a 1BF10102 		adds	r2, fp, #1
 243 001e 4CF10003 		adc	r3, ip, #0
 244 0022 C1E90223 		strd	r2, [r1, #8]
 159:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 160:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         // Abort pending transmissions if auto abort on error is enabled, or if we're in bus off mo
 161:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (g_abort_tx_on_error || (BXCAN->ESR & CANARD_STM32_CAN_ESR_BOFF))
 245              		.loc 1 161 0
 246 0026 094B     		ldr	r3, .L27+8
 247 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 248 002a 23B9     		cbnz	r3, .L22
 249              		.loc 1 161 0 is_stmt 0 discriminator 1
 250 002c 054B     		ldr	r3, .L27
 251 002e 9B69     		ldr	r3, [r3, #24]
 252 0030 13F0040F 		tst	r3, #4
 253 0034 02D0     		beq	.L20
 254              	.L22:
 162:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 163:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             BXCAN->TSR = CANARD_STM32_CAN_TSR_ABRQ0 | CANARD_STM32_CAN_TSR_ABRQ1 | CANARD_STM32_CAN
 255              		.loc 1 163 0 is_stmt 1
 256 0036 034B     		ldr	r3, .L27
 257 0038 054A     		ldr	r2, .L27+12
 258 003a 9A60     		str	r2, [r3, #8]
 259              	.L20:
 164:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 165:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 166:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 260              		.loc 1 166 0
 261 003c 5DF804BB 		ldr	fp, [sp], #4
 262              	.LCFI4:
 263              		.cfi_restore 11
 264              		.cfi_def_cfa_offset 0
 265 0040 7047     		bx	lr
 266              	.LVL30:
 267              	.L24:
 268 0042 7047     		bx	lr
 269              	.L28:
 270              		.align	2
 271              	.L27:
 272 0044 00640040 		.word	1073767424
 273 0048 00000000 		.word	.LANCHOR0
 274 004c 00000000 		.word	.LANCHOR1
 275 0050 80808000 		.word	8421504
 276              		.cfi_endproc
 277              	.LFE10:
 279              		.section	.text.waitMSRINAKBitStateChange,"ax",%progbits
 280              		.align	1
 281              		.syntax unified
 282              		.thumb
 283              		.thumb_func
 284              		.fpu fpv4-sp-d16
 286              	waitMSRINAKBitStateChange:
 287              	.LFB9:
 120:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /**
 288              		.loc 1 120 0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 9


 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              	.LVL31:
 293 0000 70B5     		push	{r4, r5, r6, lr}
 294              	.LCFI5:
 295              		.cfi_def_cfa_offset 16
 296              		.cfi_offset 4, -16
 297              		.cfi_offset 5, -12
 298              		.cfi_offset 6, -8
 299              		.cfi_offset 14, -4
 300 0002 0646     		mov	r6, r0
 301 0004 0D46     		mov	r5, r1
 302              	.LVL32:
 303              	.LBB4:
 131:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 304              		.loc 1 131 0
 305 0006 0024     		movs	r4, #0
 306              	.LVL33:
 307              	.L30:
 131:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 308              		.loc 1 131 0 is_stmt 0 discriminator 1
 309 0008 B4F57A7F 		cmp	r4, #1000
 310 000c 0BD2     		bcs	.L35
 311              	.LBB5:
 133:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (state == target_state)
 312              		.loc 1 133 0 is_stmt 1
 313 000e 7368     		ldr	r3, [r6, #4]
 314 0010 03F00103 		and	r3, r3, #1
 315 0014 DBB2     		uxtb	r3, r3
 316              	.LVL34:
 134:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 317              		.loc 1 134 0
 318 0016 AB42     		cmp	r3, r5
 319 0018 07D0     		beq	.L33
 140:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 320              		.loc 1 140 0 discriminator 2
 321 001a 0120     		movs	r0, #1
 322 001c FFF7FEFF 		bl	osDelay
 323              	.LVL35:
 324              	.LBE5:
 131:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 325              		.loc 1 131 0 discriminator 2
 326 0020 0134     		adds	r4, r4, #1
 327              	.LVL36:
 328 0022 A4B2     		uxth	r4, r4
 329              	.LVL37:
 330 0024 F0E7     		b	.L30
 331              	.L35:
 332              	.LBE4:
 143:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 333              		.loc 1 143 0
 334 0026 0020     		movs	r0, #0
 335              	.LBB7:
 336 0028 00E0     		b	.L31
 337              	.LVL38:
 338              	.L33:
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 10


 339              	.LBB6:
 136:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 340              		.loc 1 136 0
 341 002a 0120     		movs	r0, #1
 342              	.LVL39:
 343              	.L31:
 344              	.LBE6:
 345              	.LBE7:
 144:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 346              		.loc 1 144 0
 347 002c 70BD     		pop	{r4, r5, r6, pc}
 348              		.cfi_endproc
 349              	.LFE9:
 351              		.section	.text.canardSTM32Init,"ax",%progbits
 352              		.align	1
 353              		.global	canardSTM32Init
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 357              		.fpu fpv4-sp-d16
 359              	canardSTM32Init:
 360              	.LFB11:
 167:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 168:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 169:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** int16_t canardSTM32Init(const CanardSTM32CANTimings* const timings,
 170:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                         const CanardSTM32IfaceMode iface_mode)
 171:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 361              		.loc 1 171 0
 362              		.cfi_startproc
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 365              	.LVL40:
 172:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 173:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Paranoia time.
 174:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 175:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((iface_mode != CanardSTM32IfaceModeNormal) &&
 366              		.loc 1 175 0
 367 0000 0229     		cmp	r1, #2
 368 0002 00F2B380 		bhi	.L43
 176:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (iface_mode != CanardSTM32IfaceModeSilent) &&
 177:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (iface_mode != CanardSTM32IfaceModeAutomaticTxAbortOnError))
 178:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 179:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_ERROR_INVALID_ARGUMENT;
 180:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 181:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 182:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((timings == NULL) ||
 369              		.loc 1 182 0
 370 0006 0028     		cmp	r0, #0
 371 0008 00F0B380 		beq	.L44
 171:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 372              		.loc 1 171 0 discriminator 1
 373 000c 38B5     		push	{r3, r4, r5, lr}
 374              	.LCFI6:
 375              		.cfi_def_cfa_offset 16
 376              		.cfi_offset 3, -16
 377              		.cfi_offset 4, -12
 378              		.cfi_offset 5, -8
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 11


 379              		.cfi_offset 14, -4
 183:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_rate_prescaler < 1) || (timings->bit_rate_prescaler > 1024) ||
 380              		.loc 1 183 0 discriminator 1
 381 000e 0388     		ldrh	r3, [r0]
 182:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_rate_prescaler < 1) || (timings->bit_rate_prescaler > 1024) ||
 382              		.loc 1 182 0 discriminator 1
 383 0010 002B     		cmp	r3, #0
 384 0012 00F0B180 		beq	.L45
 385              		.loc 1 183 0
 386 0016 B3F5806F 		cmp	r3, #1024
 387 001a 00F2B080 		bhi	.L46
 184:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->max_resynchronization_jump_width < 1) || (timings->max_resynchronization_jump_wid
 388              		.loc 1 184 0 discriminator 1
 389 001e 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 183:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_rate_prescaler < 1) || (timings->bit_rate_prescaler > 1024) ||
 390              		.loc 1 183 0 discriminator 1
 391 0020 002B     		cmp	r3, #0
 392 0022 00F0AF80 		beq	.L47
 393              		.loc 1 184 0
 394 0026 042B     		cmp	r3, #4
 395 0028 00F2AF80 		bhi	.L48
 185:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_segment_1 < 1) || (timings->bit_segment_1 > 16) ||
 396              		.loc 1 185 0 discriminator 1
 397 002c 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 184:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->max_resynchronization_jump_width < 1) || (timings->max_resynchronization_jump_wid
 398              		.loc 1 184 0 discriminator 1
 399 002e 002B     		cmp	r3, #0
 400 0030 00F0AE80 		beq	.L49
 401              		.loc 1 185 0
 402 0034 102B     		cmp	r3, #16
 403 0036 00F2AE80 		bhi	.L50
 186:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_segment_2 < 1) || (timings->bit_segment_2 > 8))
 404              		.loc 1 186 0 discriminator 1
 405 003a C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 185:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (timings->bit_segment_1 < 1) || (timings->bit_segment_1 > 16) ||
 406              		.loc 1 185 0 discriminator 1
 407 003c 002B     		cmp	r3, #0
 408 003e 00F0AD80 		beq	.L51
 409              		.loc 1 186 0
 410 0042 082B     		cmp	r3, #8
 411 0044 00F2AD80 		bhi	.L52
 412 0048 0C46     		mov	r4, r1
 413 004a 0546     		mov	r5, r0
 187:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 188:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_ERROR_INVALID_ARGUMENT;
 189:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 190:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 191:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 192:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Initial setup
 193:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 194:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     memset(&g_stats, 0, sizeof(g_stats));
 414              		.loc 1 194 0
 415 004c 564A     		ldr	r2, .L63
 416 004e 0023     		movs	r3, #0
 417 0050 1360     		str	r3, [r2]
 418 0052 5360     		str	r3, [r2, #4]
 419 0054 9360     		str	r3, [r2, #8]
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 12


 420 0056 D360     		str	r3, [r2, #12]
 195:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 196:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     g_abort_tx_on_error = (iface_mode == CanardSTM32IfaceModeAutomaticTxAbortOnError);
 421              		.loc 1 196 0
 422 0058 0229     		cmp	r1, #2
 423 005a 14BF     		ite	ne
 424 005c 0021     		movne	r1, #0
 425              	.LVL41:
 426 005e 0121     		moveq	r1, #1
 427 0060 524A     		ldr	r2, .L63+4
 428 0062 1170     		strb	r1, [r2]
 197:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 198:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if CANARD_STM32_USE_CAN2
 199:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // If we're using CAN2, we MUST initialize CAN1 first, because CAN2 is a slave to CAN1.
 200:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->IER = 0;                                 // We need no interrupts
 201:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->MCR &= ~CANARD_STM32_CAN_MCR_SLEEP;      // Exit sleep mode
 202:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->MCR |= CANARD_STM32_CAN_MCR_INRQ;        // Request init
 203:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 204:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (!waitMSRINAKBitStateChange(CANARD_STM32_CAN1, true))    // Wait for synchronization
 205:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 206:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         CANARD_STM32_CAN1->MCR = CANARD_STM32_CAN_MCR_RESET;
 207:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_MSR_INAK_NOT_SET;
 208:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 209:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // CAN1 will be left in the initialization mode forever, in this mode it does not affect the bu
 210:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
 211:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 212:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->IER = 0;                                             // We need no interrupts
 429              		.loc 1 212 0
 430 0064 5248     		ldr	r0, .L63+8
 431              	.LVL42:
 432 0066 4361     		str	r3, [r0, #20]
 213:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->MCR &= ~CANARD_STM32_CAN_MCR_SLEEP;                  // Exit sleep mode
 433              		.loc 1 213 0
 434 0068 0368     		ldr	r3, [r0]
 435 006a 23F00203 		bic	r3, r3, #2
 436 006e 0360     		str	r3, [r0]
 214:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->MCR |= CANARD_STM32_CAN_MCR_INRQ;                    // Request init
 437              		.loc 1 214 0
 438 0070 0368     		ldr	r3, [r0]
 439 0072 43F00103 		orr	r3, r3, #1
 440 0076 0360     		str	r3, [r0]
 215:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 216:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (!waitMSRINAKBitStateChange(BXCAN, true))                // Wait for synchronization
 441              		.loc 1 216 0
 442 0078 0121     		movs	r1, #1
 443 007a FFF7FEFF 		bl	waitMSRINAKBitStateChange
 444              	.LVL43:
 445 007e 0028     		cmp	r0, #0
 446 0080 57D0     		beq	.L58
 217:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 218:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         BXCAN->MCR = CANARD_STM32_CAN_MCR_RESET;
 219:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_MSR_INAK_NOT_SET;
 220:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 221:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 222:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 223:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Hardware initialization (the hardware has already confirmed initialization mode, see above)
 224:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 13


 225:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->MCR = CANARD_STM32_CAN_MCR_ABOM | CANARD_STM32_CAN_MCR_AWUM | CANARD_STM32_CAN_MCR_INRQ;
 447              		.loc 1 225 0
 448 0082 4B4B     		ldr	r3, .L63+8
 449 0084 6122     		movs	r2, #97
 450 0086 1A60     		str	r2, [r3]
 226:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 227:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->BTR = (((timings->max_resynchronization_jump_width - 1U) &    3U) << 24U) |
 451              		.loc 1 227 0
 452 0088 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 453 008a 013B     		subs	r3, r3, #1
 454 008c 1B06     		lsls	r3, r3, #24
 455 008e 03F04073 		and	r3, r3, #50331648
 228:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_1 - 1U)                    &   15U) << 16U) |
 456              		.loc 1 228 0
 457 0092 AA78     		ldrb	r2, [r5, #2]	@ zero_extendqisi2
 458 0094 013A     		subs	r2, r2, #1
 459 0096 1204     		lsls	r2, r2, #16
 460 0098 02F47022 		and	r2, r2, #983040
 227:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_1 - 1U)                    &   15U) << 16U) |
 461              		.loc 1 227 0
 462 009c 1343     		orrs	r3, r3, r2
 229:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_2 - 1U)                    &    7U) << 20U) |
 463              		.loc 1 229 0
 464 009e EA78     		ldrb	r2, [r5, #3]	@ zero_extendqisi2
 465 00a0 013A     		subs	r2, r2, #1
 466 00a2 1205     		lsls	r2, r2, #20
 467 00a4 02F4E002 		and	r2, r2, #7340032
 228:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_1 - 1U)                    &   15U) << 16U) |
 468              		.loc 1 228 0
 469 00a8 1343     		orrs	r3, r3, r2
 230:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  ((timings->bit_rate_prescaler - 1U)                & 1023U) |
 470              		.loc 1 230 0
 471 00aa 2A88     		ldrh	r2, [r5]
 472 00ac 013A     		subs	r2, r2, #1
 473 00ae C2F30902 		ubfx	r2, r2, #0, #10
 229:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_2 - 1U)                    &    7U) << 20U) |
 474              		.loc 1 229 0
 475 00b2 1343     		orrs	r3, r3, r2
 231:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  ((iface_mode == CanardSTM32IfaceModeSilent) ? CANARD_STM32_CAN_BTR_SILM : 0);
 476              		.loc 1 231 0
 477 00b4 012C     		cmp	r4, #1
 478 00b6 43D0     		beq	.L59
 479 00b8 0022     		movs	r2, #0
 480              	.L39:
 230:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  ((timings->bit_rate_prescaler - 1U)                & 1023U) |
 481              		.loc 1 230 0
 482 00ba 1343     		orrs	r3, r3, r2
 227:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                  (((timings->bit_segment_1 - 1U)                    &   15U) << 16U) |
 483              		.loc 1 227 0
 484 00bc 3C4A     		ldr	r2, .L63+8
 485 00be D361     		str	r3, [r2, #28]
 232:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 233:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_ASSERT(0 == BXCAN->IER);             // Making sure the iterrupts are indeed disabled
 486              		.loc 1 233 0
 487 00c0 5369     		ldr	r3, [r2, #20]
 488 00c2 002B     		cmp	r3, #0
 489 00c4 3FD1     		bne	.L60
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 14


 234:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 235:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     BXCAN->MCR &= ~CANARD_STM32_CAN_MCR_INRQ;   // Leave init mode
 490              		.loc 1 235 0
 491 00c6 3A48     		ldr	r0, .L63+8
 492 00c8 0368     		ldr	r3, [r0]
 493 00ca 23F00103 		bic	r3, r3, #1
 494 00ce 0360     		str	r3, [r0]
 236:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 237:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (!waitMSRINAKBitStateChange(BXCAN, false))
 495              		.loc 1 237 0
 496 00d0 0021     		movs	r1, #0
 497 00d2 FFF7FEFF 		bl	waitMSRINAKBitStateChange
 498              	.LVL44:
 499 00d6 0028     		cmp	r0, #0
 500 00d8 3BD0     		beq	.L61
 501              	.LBB8:
 238:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 239:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         BXCAN->MCR = CANARD_STM32_CAN_MCR_RESET;
 240:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_MSR_INAK_NOT_CLEARED;
 241:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 242:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 243:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 244:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Default filter configuration. Note that ALL filters are available ONLY via CAN1!
 245:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * CAN2 filters are offset by 14.
 246:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * We use 14 filters at most always which simplifies the code and ensures compatibility with al
 247:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * MCU within the STM32 family.
 248:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 249:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 250:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         uint32_t fmr = CANARD_STM32_CAN1->FMR & 0xFFFFC0F1U;
 502              		.loc 1 250 0
 503 00da 354A     		ldr	r2, .L63+8
 504 00dc D2F80032 		ldr	r3, [r2, #512]
 505 00e0 23F47C53 		bic	r3, r3, #16128
 506 00e4 23F00E03 		bic	r3, r3, #14
 507              	.LVL45:
 251:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         fmr |= CANARD_STM32_NUM_ACCEPTANCE_FILTERS << 8U;                // CAN2 start bank = 14 (i
 252:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         CANARD_STM32_CAN1->FMR = fmr | CANARD_STM32_CAN_FMR_FINIT;
 508              		.loc 1 252 0
 509 00e8 43F46063 		orr	r3, r3, #3584
 510              	.LVL46:
 511 00ec 43F00103 		orr	r3, r3, #1
 512              	.LVL47:
 513 00f0 C2F80032 		str	r3, [r2, #512]
 514              	.LBE8:
 253:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 254:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 255:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_ASSERT(((CANARD_STM32_CAN1->FMR >> 8U) & 0x3FU) == CANARD_STM32_NUM_ACCEPTANCE_FILTERS);
 515              		.loc 1 255 0
 516 00f4 D2F80032 		ldr	r3, [r2, #512]
 517 00f8 C3F30523 		ubfx	r3, r3, #8, #6
 518 00fc 0E2B     		cmp	r3, #14
 519 00fe 2FD1     		bne	.L62
 256:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 257:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FM1R = 0;                                        // Indentifier Mask mode
 520              		.loc 1 257 0
 521 0100 2B4B     		ldr	r3, .L63+8
 522 0102 0020     		movs	r0, #0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 15


 523 0104 C3F80402 		str	r0, [r3, #516]
 258:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FS1R = 0x0FFFFFFF;                               // All 32-bit
 524              		.loc 1 258 0
 525 0108 6FF07042 		mvn	r2, #-268435456
 526 010c C3F80C22 		str	r2, [r3, #524]
 259:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 260:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // Filters are alternating between FIFO0 and FIFO1 in order to equalize the load.
 261:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // This will cause occasional priority inversion and frame reordering on reception,
 262:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // but that is acceptable for UAVCAN, and a majority of other protocols will tolerate
 263:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // this too, since there will be no reordering within the same CAN ID.
 264:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FFA1R = 0x0AAAAAAA;
 527              		.loc 1 264 0
 528 0110 284A     		ldr	r2, .L63+12
 529 0112 C3F81422 		str	r2, [r3, #532]
 265:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 266:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if CANARD_STM32_USE_CAN2
 267:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FilterRegister[CANARD_STM32_NUM_ACCEPTANCE_FILTERS].FR1 = 0;
 268:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FilterRegister[CANARD_STM32_NUM_ACCEPTANCE_FILTERS].FR2 = 0;
 269:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FA1R = (1 << CANARD_STM32_NUM_ACCEPTANCE_FILTERS);  // One filter enabled
 270:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #else
 271:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FilterRegister[0].FR1 = 0;
 530              		.loc 1 271 0
 531 0116 C3F84002 		str	r0, [r3, #576]
 272:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FilterRegister[0].FR2 = 0;
 532              		.loc 1 272 0
 533 011a C3F84402 		str	r0, [r3, #580]
 273:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FA1R = 1;                                        // One filter enabled
 534              		.loc 1 273 0
 535 011e 0122     		movs	r2, #1
 536 0120 C3F81C22 		str	r2, [r3, #540]
 274:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
 275:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 276:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FMR &= ~CANARD_STM32_CAN_FMR_FINIT;              // Leave initialization mod
 537              		.loc 1 276 0
 538 0124 D3F80022 		ldr	r2, [r3, #512]
 539 0128 22F00102 		bic	r2, r2, #1
 540 012c C3F80022 		str	r2, [r3, #512]
 541              	.LVL48:
 542              	.L37:
 277:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 278:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return 0;
 279:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 543              		.loc 1 279 0
 544 0130 38BD     		pop	{r3, r4, r5, pc}
 545              	.LVL49:
 546              	.L58:
 218:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_MSR_INAK_NOT_SET;
 547              		.loc 1 218 0
 548 0132 1F4B     		ldr	r3, .L63+8
 549 0134 4FF40042 		mov	r2, #32768
 550 0138 1A60     		str	r2, [r3]
 219:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 551              		.loc 1 219 0
 552 013a 6FF47A70 		mvn	r0, #1000
 553 013e F7E7     		b	.L37
 554              	.L59:
 231:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 16


 555              		.loc 1 231 0
 556 0140 4FF00042 		mov	r2, #-2147483648
 557 0144 B9E7     		b	.L39
 558              	.L60:
 233:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 559              		.loc 1 233 0 discriminator 1
 560 0146 1C4B     		ldr	r3, .L63+16
 561 0148 1C4A     		ldr	r2, .L63+20
 562 014a E921     		movs	r1, #233
 563 014c 1C48     		ldr	r0, .L63+24
 564 014e FFF7FEFF 		bl	__assert_func
 565              	.LVL50:
 566              	.L61:
 239:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_MSR_INAK_NOT_CLEARED;
 567              		.loc 1 239 0
 568 0152 174B     		ldr	r3, .L63+8
 569 0154 4FF40042 		mov	r2, #32768
 570 0158 1A60     		str	r2, [r3]
 240:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 571              		.loc 1 240 0
 572 015a A0F2EA30 		subw	r0, r0, #1002
 573 015e E7E7     		b	.L37
 574              	.L62:
 255:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 575              		.loc 1 255 0 discriminator 1
 576 0160 184B     		ldr	r3, .L63+28
 577 0162 164A     		ldr	r2, .L63+20
 578 0164 FF21     		movs	r1, #255
 579 0166 1648     		ldr	r0, .L63+24
 580 0168 FFF7FEFF 		bl	__assert_func
 581              	.LVL51:
 582              	.L43:
 583              	.LCFI7:
 584              		.cfi_def_cfa_offset 0
 585              		.cfi_restore 3
 586              		.cfi_restore 4
 587              		.cfi_restore 5
 588              		.cfi_restore 14
 179:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 589              		.loc 1 179 0
 590 016c 6FF00100 		mvn	r0, #1
 591              	.LVL52:
 592 0170 7047     		bx	lr
 593              	.LVL53:
 594              	.L44:
 188:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 595              		.loc 1 188 0
 596 0172 6FF00100 		mvn	r0, #1
 597              	.LVL54:
 598              		.loc 1 279 0
 599 0176 7047     		bx	lr
 600              	.LVL55:
 601              	.L45:
 602              	.LCFI8:
 603              		.cfi_def_cfa_offset 16
 604              		.cfi_offset 3, -16
 605              		.cfi_offset 4, -12
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 17


 606              		.cfi_offset 5, -8
 607              		.cfi_offset 14, -4
 188:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 608              		.loc 1 188 0
 609 0178 6FF00100 		mvn	r0, #1
 610              	.LVL56:
 611 017c D8E7     		b	.L37
 612              	.LVL57:
 613              	.L46:
 614 017e 6FF00100 		mvn	r0, #1
 615              	.LVL58:
 616 0182 D5E7     		b	.L37
 617              	.LVL59:
 618              	.L47:
 619 0184 6FF00100 		mvn	r0, #1
 620              	.LVL60:
 621 0188 D2E7     		b	.L37
 622              	.LVL61:
 623              	.L48:
 624 018a 6FF00100 		mvn	r0, #1
 625              	.LVL62:
 626 018e CFE7     		b	.L37
 627              	.LVL63:
 628              	.L49:
 629 0190 6FF00100 		mvn	r0, #1
 630              	.LVL64:
 631 0194 CCE7     		b	.L37
 632              	.LVL65:
 633              	.L50:
 634 0196 6FF00100 		mvn	r0, #1
 635              	.LVL66:
 636 019a C9E7     		b	.L37
 637              	.LVL67:
 638              	.L51:
 639 019c 6FF00100 		mvn	r0, #1
 640              	.LVL68:
 641 01a0 C6E7     		b	.L37
 642              	.LVL69:
 643              	.L52:
 644 01a2 6FF00100 		mvn	r0, #1
 645              	.LVL70:
 646 01a6 C3E7     		b	.L37
 647              	.L64:
 648              		.align	2
 649              	.L63:
 650 01a8 00000000 		.word	.LANCHOR0
 651 01ac 00000000 		.word	.LANCHOR1
 652 01b0 00640040 		.word	1073767424
 653 01b4 AAAAAA0A 		.word	178956970
 654 01b8 00000000 		.word	.LC0
 655 01bc 00000000 		.word	.LANCHOR2
 656 01c0 38000000 		.word	.LC1
 657 01c4 78000000 		.word	.LC2
 658              		.cfi_endproc
 659              	.LFE11:
 661              		.section	.text.canardSTM32Transmit,"ax",%progbits
 662              		.align	1
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 18


 663              		.global	canardSTM32Transmit
 664              		.syntax unified
 665              		.thumb
 666              		.thumb_func
 667              		.fpu fpv4-sp-d16
 669              	canardSTM32Transmit:
 670              	.LFB12:
 280:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 281:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 282:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** int16_t canardSTM32Transmit(const CanardCANFrame* const frame)
 283:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 671              		.loc 1 283 0
 672              		.cfi_startproc
 673              		@ args = 0, pretend = 0, frame = 8
 674              		@ frame_needed = 0, uses_anonymous_args = 0
 675              	.LVL71:
 284:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (frame == NULL)
 676              		.loc 1 284 0
 677 0000 0028     		cmp	r0, #0
 678 0002 75D0     		beq	.L72
 283:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (frame == NULL)
 679              		.loc 1 283 0
 680 0004 70B5     		push	{r4, r5, r6, lr}
 681              	.LCFI9:
 682              		.cfi_def_cfa_offset 16
 683              		.cfi_offset 4, -16
 684              		.cfi_offset 5, -12
 685              		.cfi_offset 6, -8
 686              		.cfi_offset 14, -4
 687 0006 82B0     		sub	sp, sp, #8
 688              	.LCFI10:
 689              		.cfi_def_cfa_offset 24
 690 0008 0446     		mov	r4, r0
 285:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 286:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_ERROR_INVALID_ARGUMENT;
 287:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 288:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 289:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (frame->id & CANARD_CAN_FRAME_ERR)
 691              		.loc 1 289 0
 692 000a 0368     		ldr	r3, [r0]
 693 000c 13F0005F 		tst	r3, #536870912
 694 0010 71D1     		bne	.L73
 290:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 291:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_STM32_ERROR_UNSUPPORTED_FRAME_FORMAT;
 292:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 293:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 294:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 295:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Handling error status might free up some slots through aborts
 296:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 297:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     processErrorStatus();
 695              		.loc 1 297 0
 696 0012 FFF7FEFF 		bl	processErrorStatus
 697              	.LVL72:
 298:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 299:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 300:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Seeking an empty slot, checking if priority inversion would occur if we enqueued now.
 301:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * We can always enqueue safely if all TX mailboxes are free and no transmissions are pending.
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 19


 302:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 303:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     uint8_t tx_mailbox = 0xFF;
 304:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 305:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     static const uint32_t AllTME = CANARD_STM32_CAN_TSR_TME0 | CANARD_STM32_CAN_TSR_TME1 | CANARD_S
 306:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 307:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((BXCAN->TSR & AllTME) != AllTME)                // At least one TX mailbox is used, detaile
 698              		.loc 1 307 0
 699 0016 394B     		ldr	r3, .L83
 700 0018 9B68     		ldr	r3, [r3, #8]
 701 001a 03F0E053 		and	r3, r3, #469762048
 702 001e B3F1E05F 		cmp	r3, #469762048
 703 0022 63D0     		beq	.L74
 704              	.LBB9:
 308:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 309:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const bool tme[3] =
 310:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 311:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             (BXCAN->TSR & CANARD_STM32_CAN_TSR_TME0) != 0,
 705              		.loc 1 311 0
 706 0024 354B     		ldr	r3, .L83
 707 0026 9A68     		ldr	r2, [r3, #8]
 708 0028 C2F38062 		ubfx	r2, r2, #26, #1
 309:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 709              		.loc 1 309 0
 710 002c 8DF80420 		strb	r2, [sp, #4]
 312:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             (BXCAN->TSR & CANARD_STM32_CAN_TSR_TME1) != 0,
 711              		.loc 1 312 0
 712 0030 9A68     		ldr	r2, [r3, #8]
 713 0032 C2F3C062 		ubfx	r2, r2, #27, #1
 309:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 714              		.loc 1 309 0
 715 0036 8DF80520 		strb	r2, [sp, #5]
 313:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             (BXCAN->TSR & CANARD_STM32_CAN_TSR_TME2) != 0
 716              		.loc 1 313 0
 717 003a 9B68     		ldr	r3, [r3, #8]
 718 003c C3F30073 		ubfx	r3, r3, #28, #1
 309:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 719              		.loc 1 309 0
 720 0040 8DF80630 		strb	r3, [sp, #6]
 721              	.LVL73:
 722              	.LBB10:
 314:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         };
 315:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 316:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         for (uint8_t i = 0; i < 3; i++)
 723              		.loc 1 316 0
 724 0044 0025     		movs	r5, #0
 725              	.LBE10:
 726              	.LBE9:
 303:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 727              		.loc 1 303 0
 728 0046 FF26     		movs	r6, #255
 729              	.LBB12:
 730              	.LBB11:
 731              		.loc 1 316 0
 732 0048 02E0     		b	.L68
 733              	.LVL74:
 734              	.L75:
 317:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 20


 318:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             if (tme[i])                                 // This TX mailbox is free, we can use it
 319:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             {
 320:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                 tx_mailbox = i;
 735              		.loc 1 320 0
 736 004a 2E46     		mov	r6, r5
 737              	.LVL75:
 738              	.L69:
 316:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 739              		.loc 1 316 0 discriminator 2
 740 004c 0135     		adds	r5, r5, #1
 741              	.LVL76:
 742 004e EDB2     		uxtb	r5, r5
 743              	.LVL77:
 744              	.L68:
 316:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 745              		.loc 1 316 0 is_stmt 0 discriminator 1
 746 0050 022D     		cmp	r5, #2
 747 0052 13D8     		bhi	.L80
 318:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             {
 748              		.loc 1 318 0 is_stmt 1
 749 0054 02AB     		add	r3, sp, #8
 750 0056 2B44     		add	r3, r3, r5
 751 0058 13F8043C 		ldrb	r3, [r3, #-4]	@ zero_extendqisi2
 752 005c 002B     		cmp	r3, #0
 753 005e F4D1     		bne	.L75
 321:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             }
 322:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             else                                        // This TX mailbox is pending, check for pr
 323:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             {
 324:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                 if (!isFramePriorityHigher(frame->id, convertFrameIDRegisterToCanard(BXCAN->TxMailb
 754              		.loc 1 324 0
 755 0060 05F11803 		add	r3, r5, #24
 756 0064 1B01     		lsls	r3, r3, #4
 757 0066 254A     		ldr	r2, .L83
 758 0068 D058     		ldr	r0, [r2, r3]
 759 006a FFF7FEFF 		bl	convertFrameIDRegisterToCanard
 760              	.LVL78:
 761 006e 0146     		mov	r1, r0
 762 0070 2068     		ldr	r0, [r4]
 763 0072 FFF7FEFF 		bl	isFramePriorityHigher
 764              	.LVL79:
 765 0076 0028     		cmp	r0, #0
 766 0078 E8D1     		bne	.L69
 767 007a 27E0     		b	.L66
 768              	.L80:
 769              	.LBE11:
 325:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                 {
 326:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                     // There's a mailbox whose priority is higher or equal the priority of the new 
 327:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                     return 0;                           // Priority inversion would occur! Reject t
 328:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                 }
 329:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             }
 330:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 331:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 332:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (tx_mailbox == 0xFF)
 770              		.loc 1 332 0
 771 007c FF2E     		cmp	r6, #255
 772 007e 27D0     		beq	.L81
 773              	.LBE12:
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 21


 333:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 334:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             /*
 335:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * All TX mailboxes are busy (this is highly unlikely); at the same time we know that t
 336:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * higher or equal priority frame that is currently pending. Therefore, priority invers
 337:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * just happend (sic!), because we can't enqueue the higher priority frame due to all T
 338:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * being busy. This scenario is extremely unlikely, because in order for it to happen, 
 339:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * would need to transmit 4 (four) or more CAN frames with different CAN ID ordered fro
 340:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * low ID nearly at the same time. For example:
 341:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              *  1. 0x123        <-- Takes mailbox 0 (or any other)
 342:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              *  2. 0x122        <-- Takes mailbox 2 (or any other)
 343:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              *  3. 0x121        <-- Takes mailbox 1 (or any other)
 344:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              *  4. 0x120        <-- INNER PRIORITY INVERSION HERE (only if all three TX mailboxes a
 345:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * This situation is even less likely to cause any noticeable disruptions on the CAN bu
 346:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * it is better to warn the developer about that during debugging, so we fire an assert
 347:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              * It is perfectly safe to remove it.
 348:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****              */
 349:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if CANARD_STM32_DEBUG_INNER_PRIORITY_INVERSION
 350:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             CANARD_ASSERT(!"CAN PRIO INV");
 351:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
 352:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             return 0;
 353:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 354:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 355:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     else                                                // All TX mailboxes are free, use first
 356:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 357:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         tx_mailbox = 0;
 358:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 359:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 360:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_ASSERT(tx_mailbox < 3);                      // Index check - the value must be correct 
 774              		.loc 1 360 0
 775 0080 022E     		cmp	r6, #2
 776 0082 2CD8     		bhi	.L82
 777              	.LVL80:
 778              	.L67:
 361:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 362:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 363:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * By this time we've proved that a priority inversion would not occur, and we've also found a 
 364:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Therefore it is safe to enqueue the frame now.
 365:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 366:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     volatile CanardSTM32TxMailboxType* const mb = &BXCAN->TxMailbox[tx_mailbox];
 779              		.loc 1 366 0
 780 0084 3501     		lsls	r5, r6, #4
 781 0086 05F18045 		add	r5, r5, #1073741824
 782 008a 05F5CB45 		add	r5, r5, #25984
 783              	.LVL81:
 367:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 368:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     mb->TDTR = frame->data_len;                         // DLC equals data length except in CAN FD
 784              		.loc 1 368 0
 785 008e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 786 0090 6B60     		str	r3, [r5, #4]
 369:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 370:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     mb->TDHR = (((uint32_t)frame->data[7]) << 24U) |
 787              		.loc 1 370 0
 788 0092 E27A     		ldrb	r2, [r4, #11]	@ zero_extendqisi2
 371:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[6]) << 16U) |
 789              		.loc 1 371 0
 790 0094 A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 791 0096 1B04     		lsls	r3, r3, #16
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 22


 370:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[6]) << 16U) |
 792              		.loc 1 370 0
 793 0098 43EA0263 		orr	r3, r3, r2, lsl #24
 372:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[5]) <<  8U) |
 794              		.loc 1 372 0
 795 009c 627A     		ldrb	r2, [r4, #9]	@ zero_extendqisi2
 371:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[6]) << 16U) |
 796              		.loc 1 371 0
 797 009e 43EA0223 		orr	r3, r3, r2, lsl #8
 373:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[4]) <<  0U);
 798              		.loc 1 373 0
 799 00a2 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 372:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[5]) <<  8U) |
 800              		.loc 1 372 0
 801 00a4 1343     		orrs	r3, r3, r2
 370:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[6]) << 16U) |
 802              		.loc 1 370 0
 803 00a6 EB60     		str	r3, [r5, #12]
 374:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     mb->TDLR = (((uint32_t)frame->data[3]) << 24U) |
 804              		.loc 1 374 0
 805 00a8 E279     		ldrb	r2, [r4, #7]	@ zero_extendqisi2
 375:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[2]) << 16U) |
 806              		.loc 1 375 0
 807 00aa A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 808 00ac 1B04     		lsls	r3, r3, #16
 374:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     mb->TDLR = (((uint32_t)frame->data[3]) << 24U) |
 809              		.loc 1 374 0
 810 00ae 43EA0263 		orr	r3, r3, r2, lsl #24
 376:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[1]) <<  8U) |
 811              		.loc 1 376 0
 812 00b2 6279     		ldrb	r2, [r4, #5]	@ zero_extendqisi2
 375:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[2]) << 16U) |
 813              		.loc 1 375 0
 814 00b4 43EA0223 		orr	r3, r3, r2, lsl #8
 377:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[0]) <<  0U);
 815              		.loc 1 377 0
 816 00b8 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 376:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[1]) <<  8U) |
 817              		.loc 1 376 0
 818 00ba 1343     		orrs	r3, r3, r2
 374:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                (((uint32_t)frame->data[2]) << 16U) |
 819              		.loc 1 374 0
 820 00bc AB60     		str	r3, [r5, #8]
 378:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 379:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     mb->TIR = convertFrameIDCanardToRegister(frame->id) | CANARD_STM32_CAN_TIR_TXRQ;    // Go.
 821              		.loc 1 379 0
 822 00be 2068     		ldr	r0, [r4]
 823 00c0 FFF7FEFF 		bl	convertFrameIDCanardToRegister
 824              	.LVL82:
 825 00c4 40F00100 		orr	r0, r0, #1
 826 00c8 2860     		str	r0, [r5]
 380:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 381:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 382:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * The frame is now enqueued and pending transmission.
 383:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 384:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return 1;
 827              		.loc 1 384 0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 23


 828 00ca 0120     		movs	r0, #1
 829              	.LVL83:
 830              	.L66:
 385:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 831              		.loc 1 385 0
 832 00cc 02B0     		add	sp, sp, #8
 833              	.LCFI11:
 834              		.cfi_remember_state
 835              		.cfi_def_cfa_offset 16
 836              		@ sp needed
 837 00ce 70BD     		pop	{r4, r5, r6, pc}
 838              	.LVL84:
 839              	.L81:
 840              	.LCFI12:
 841              		.cfi_restore_state
 842              	.LBB13:
 350:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
 843              		.loc 1 350 0
 844 00d0 0B4B     		ldr	r3, .L83+4
 845 00d2 0C4A     		ldr	r2, .L83+8
 846 00d4 4FF4AF71 		mov	r1, #350
 847 00d8 0B48     		ldr	r0, .L83+12
 848 00da FFF7FEFF 		bl	__assert_func
 849              	.LVL85:
 850              	.L82:
 851              	.LBE13:
 360:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 852              		.loc 1 360 0 discriminator 1
 853 00de 0B4B     		ldr	r3, .L83+16
 854 00e0 084A     		ldr	r2, .L83+8
 855 00e2 4FF4B471 		mov	r1, #360
 856 00e6 0848     		ldr	r0, .L83+12
 857 00e8 FFF7FEFF 		bl	__assert_func
 858              	.LVL86:
 859              	.L74:
 357:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 860              		.loc 1 357 0
 861 00ec 0026     		movs	r6, #0
 862 00ee C9E7     		b	.L67
 863              	.LVL87:
 864              	.L72:
 865              	.LCFI13:
 866              		.cfi_def_cfa_offset 0
 867              		.cfi_restore 4
 868              		.cfi_restore 5
 869              		.cfi_restore 6
 870              		.cfi_restore 14
 286:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 871              		.loc 1 286 0
 872 00f0 6FF00100 		mvn	r0, #1
 873              	.LVL88:
 874              		.loc 1 385 0
 875 00f4 7047     		bx	lr
 876              	.LVL89:
 877              	.L73:
 878              	.LCFI14:
 879              		.cfi_def_cfa_offset 24
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 24


 880              		.cfi_offset 4, -16
 881              		.cfi_offset 5, -12
 882              		.cfi_offset 6, -8
 883              		.cfi_offset 14, -4
 291:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 884              		.loc 1 291 0
 885 00f6 0648     		ldr	r0, .L83+20
 886              	.LVL90:
 887 00f8 E8E7     		b	.L66
 888              	.L84:
 889 00fa 00BF     		.align	2
 890              	.L83:
 891 00fc 00640040 		.word	1073767424
 892 0100 00000000 		.word	.LC3
 893 0104 00000000 		.word	.LANCHOR3
 894 0108 38000000 		.word	.LC1
 895 010c 10000000 		.word	.LC4
 896 0110 15FCFFFF 		.word	-1003
 897              		.cfi_endproc
 898              	.LFE12:
 900              		.section	.text.canardSTM32Receive,"ax",%progbits
 901              		.align	1
 902              		.global	canardSTM32Receive
 903              		.syntax unified
 904              		.thumb
 905              		.thumb_func
 906              		.fpu fpv4-sp-d16
 908              	canardSTM32Receive:
 909              	.LFB13:
 386:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 387:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 388:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** int16_t canardSTM32Receive(CanardCANFrame* const out_frame)
 389:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 910              		.loc 1 389 0
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 0
 913              		@ frame_needed = 0, uses_anonymous_args = 0
 914              	.LVL91:
 390:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (out_frame == NULL)
 915              		.loc 1 390 0
 916 0000 0028     		cmp	r0, #0
 917 0002 43D0     		beq	.L91
 389:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if (out_frame == NULL)
 918              		.loc 1 389 0
 919 0004 2DE97848 		push	{r3, r4, r5, r6, fp, lr}
 920              	.LCFI15:
 921              		.cfi_def_cfa_offset 24
 922              		.cfi_offset 3, -24
 923              		.cfi_offset 4, -20
 924              		.cfi_offset 5, -16
 925              		.cfi_offset 6, -12
 926              		.cfi_offset 11, -8
 927              		.cfi_offset 14, -4
 928 0008 0546     		mov	r5, r0
 391:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 392:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_ERROR_INVALID_ARGUMENT;
 393:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 25


 394:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 395:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     static volatile uint32_t* const RFxR[2] =
 396:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 397:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         &BXCAN->RF0R,
 398:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         &BXCAN->RF1R
 399:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     };
 400:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 401:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 402:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * This function must be polled periodically, so we use this opportunity to do it.
 403:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 404:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     processErrorStatus();
 929              		.loc 1 404 0
 930 000a FFF7FEFF 		bl	processErrorStatus
 931              	.LVL92:
 932              	.LBB14:
 405:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 406:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 407:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Reading the TX FIFO
 408:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 409:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     for (uint_fast8_t i = 0; i < 2; i++)
 933              		.loc 1 409 0
 934 000e 0023     		movs	r3, #0
 935              	.LVL93:
 936              	.L87:
 937              		.loc 1 409 0 is_stmt 0 discriminator 1
 938 0010 012B     		cmp	r3, #1
 939 0012 38D8     		bhi	.L96
 940              	.LBB15:
 410:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 411:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         volatile CanardSTM32RxMailboxType* const mb = &BXCAN->RxMailbox[i];
 941              		.loc 1 411 0 is_stmt 1
 942 0014 1F4C     		ldr	r4, .L98
 943 0016 04EB0314 		add	r4, r4, r3, lsl #4
 944              	.LVL94:
 412:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 413:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (((*RFxR[i]) & CANARD_STM32_CAN_RFR_FMP_MASK) != 0)
 945              		.loc 1 413 0
 946 001a 1F4A     		ldr	r2, .L98+4
 947 001c 52F82360 		ldr	r6, [r2, r3, lsl #2]
 948 0020 3268     		ldr	r2, [r6]
 949 0022 12F0030F 		tst	r2, #3
 950 0026 01D1     		bne	.L97
 951              	.LBE15:
 409:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 952              		.loc 1 409 0 discriminator 2
 953 0028 0133     		adds	r3, r3, #1
 954              	.LVL95:
 955 002a F1E7     		b	.L87
 956              	.L97:
 957              	.LBB17:
 958              	.LBB16:
 414:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 415:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             if (*RFxR[i] & CANARD_STM32_CAN_RFR_FOVR)
 959              		.loc 1 415 0
 960 002c 3368     		ldr	r3, [r6]
 961              	.LVL96:
 962 002e 13F0100F 		tst	r3, #16
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 26


 963 0032 08D0     		beq	.L89
 416:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             {
 417:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                 g_stats.rx_overflow_count++;
 964              		.loc 1 417 0
 965 0034 1949     		ldr	r1, .L98+8
 966 0036 D1E900BC 		ldrd	fp, [r1]
 967 003a 1BF10102 		adds	r2, fp, #1
 968 003e 4CF10003 		adc	r3, ip, #0
 969 0042 C1E90023 		strd	r2, [r1]
 970              	.L89:
 418:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             }
 419:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 420:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->id = convertFrameIDRegisterToCanard(mb->RIR);
 971              		.loc 1 420 0
 972 0046 2068     		ldr	r0, [r4]
 973 0048 FFF7FEFF 		bl	convertFrameIDRegisterToCanard
 974              	.LVL97:
 975 004c 2860     		str	r0, [r5]
 421:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 422:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data_len = (uint8_t)(mb->RDTR & CANARD_STM32_CAN_RDTR_DLC_MASK);
 976              		.loc 1 422 0
 977 004e 6368     		ldr	r3, [r4, #4]
 978 0050 03F00F03 		and	r3, r3, #15
 979 0054 2B73     		strb	r3, [r5, #12]
 423:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 424:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             // Caching to regular (non volatile) memory for faster reads
 425:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             const uint32_t rdlr = mb->RDLR;
 980              		.loc 1 425 0
 981 0056 A268     		ldr	r2, [r4, #8]
 982              	.LVL98:
 426:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             const uint32_t rdhr = mb->RDHR;
 983              		.loc 1 426 0
 984 0058 E368     		ldr	r3, [r4, #12]
 985              	.LVL99:
 427:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 428:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[0] = (uint8_t)(0xFFU & (rdlr >>  0U));
 986              		.loc 1 428 0
 987 005a 2A71     		strb	r2, [r5, #4]
 429:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[1] = (uint8_t)(0xFFU & (rdlr >>  8U));
 988              		.loc 1 429 0
 989 005c C2F30721 		ubfx	r1, r2, #8, #8
 990 0060 6971     		strb	r1, [r5, #5]
 430:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[2] = (uint8_t)(0xFFU & (rdlr >> 16U));
 991              		.loc 1 430 0
 992 0062 C2F30741 		ubfx	r1, r2, #16, #8
 993 0066 A971     		strb	r1, [r5, #6]
 431:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[3] = (uint8_t)(0xFFU & (rdlr >> 24U));
 994              		.loc 1 431 0
 995 0068 120E     		lsrs	r2, r2, #24
 996              	.LVL100:
 997 006a EA71     		strb	r2, [r5, #7]
 432:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[4] = (uint8_t)(0xFFU & (rdhr >>  0U));
 998              		.loc 1 432 0
 999 006c 2B72     		strb	r3, [r5, #8]
 433:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[5] = (uint8_t)(0xFFU & (rdhr >>  8U));
 1000              		.loc 1 433 0
 1001 006e C3F30722 		ubfx	r2, r3, #8, #8
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 27


 1002 0072 6A72     		strb	r2, [r5, #9]
 434:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[6] = (uint8_t)(0xFFU & (rdhr >> 16U));
 1003              		.loc 1 434 0
 1004 0074 C3F30742 		ubfx	r2, r3, #16, #8
 1005 0078 AA72     		strb	r2, [r5, #10]
 435:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             out_frame->data[7] = (uint8_t)(0xFFU & (rdhr >> 24U));
 1006              		.loc 1 435 0
 1007 007a 1B0E     		lsrs	r3, r3, #24
 1008              	.LVL101:
 1009 007c EB72     		strb	r3, [r5, #11]
 436:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 437:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             // Release FIFO entry we just read
 438:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             *RFxR[i] = CANARD_STM32_CAN_RFR_RFOM | CANARD_STM32_CAN_RFR_FOVR | CANARD_STM32_CAN_RFR
 1010              		.loc 1 438 0
 1011 007e 3823     		movs	r3, #56
 1012 0080 3360     		str	r3, [r6]
 439:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 440:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             // Reading successful
 441:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             return 1;
 1013              		.loc 1 441 0
 1014 0082 0120     		movs	r0, #1
 1015 0084 00E0     		b	.L86
 1016              	.LVL102:
 1017              	.L96:
 1018              	.LBE16:
 1019              	.LBE17:
 1020              	.LBE14:
 442:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 443:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 444:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 445:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // No frames to read
 446:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return 0;
 1021              		.loc 1 446 0
 1022 0086 0020     		movs	r0, #0
 1023              	.LVL103:
 1024              	.L86:
 447:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 1025              		.loc 1 447 0
 1026 0088 BDE87888 		pop	{r3, r4, r5, r6, fp, pc}
 1027              	.LVL104:
 1028              	.L91:
 1029              	.LCFI16:
 1030              		.cfi_def_cfa_offset 0
 1031              		.cfi_restore 3
 1032              		.cfi_restore 4
 1033              		.cfi_restore 5
 1034              		.cfi_restore 6
 1035              		.cfi_restore 11
 1036              		.cfi_restore 14
 392:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 1037              		.loc 1 392 0
 1038 008c 6FF00100 		mvn	r0, #1
 1039              	.LVL105:
 1040              		.loc 1 447 0
 1041 0090 7047     		bx	lr
 1042              	.L99:
 1043 0092 00BF     		.align	2
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 28


 1044              	.L98:
 1045 0094 B0650040 		.word	1073767856
 1046 0098 00000000 		.word	.LANCHOR4
 1047 009c 00000000 		.word	.LANCHOR0
 1048              		.cfi_endproc
 1049              	.LFE13:
 1051              		.section	.text.canardSTM32ConfigureAcceptanceFilters,"ax",%progbits
 1052              		.align	1
 1053              		.global	canardSTM32ConfigureAcceptanceFilters
 1054              		.syntax unified
 1055              		.thumb
 1056              		.thumb_func
 1057              		.fpu fpv4-sp-d16
 1059              	canardSTM32ConfigureAcceptanceFilters:
 1060              	.LFB14:
 448:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 449:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 450:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** int16_t canardSTM32ConfigureAcceptanceFilters(const CanardSTM32AcceptanceFilterConfiguration* const
 451:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****                                               const uint8_t num_filter_configs)
 452:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 1061              		.loc 1 452 0
 1062              		.cfi_startproc
 1063              		@ args = 0, pretend = 0, frame = 0
 1064              		@ frame_needed = 0, uses_anonymous_args = 0
 1065              		@ link register save eliminated.
 1066              	.LVL106:
 453:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // Note that num_filter_configs = 0 is a valid configuration, which rejects all frames.
 454:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     if ((filter_configs == NULL) ||
 1067              		.loc 1 454 0
 1068 0000 0028     		cmp	r0, #0
 1069 0002 3FD0     		beq	.L110
 452:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     // Note that num_filter_configs = 0 is a valid configuration, which rejects all frames.
 1070              		.loc 1 452 0 discriminator 1
 1071 0004 70B4     		push	{r4, r5, r6}
 1072              	.LCFI17:
 1073              		.cfi_def_cfa_offset 12
 1074              		.cfi_offset 4, -12
 1075              		.cfi_offset 5, -8
 1076              		.cfi_offset 6, -4
 1077 0006 0646     		mov	r6, r0
 1078              		.loc 1 454 0 discriminator 1
 1079 0008 0E29     		cmp	r1, #14
 1080 000a 3ED8     		bhi	.L111
 455:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         (num_filter_configs > CANARD_STM32_NUM_ACCEPTANCE_FILTERS))
 456:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 457:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         return -CANARD_ERROR_INVALID_ARGUMENT;
 458:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 459:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 460:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 461:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * First we disable all filters. This may cause momentary RX frame losses, but the application
 462:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * should be able to tolerate that.
 463:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 464:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     CANARD_STM32_CAN1->FA1R = 0;
 1081              		.loc 1 464 0
 1082 000c 0023     		movs	r3, #0
 1083 000e 204A     		ldr	r2, .L118
 1084 0010 C2F81C32 		str	r3, [r2, #540]
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 29


 1085              	.LVL107:
 1086              	.LBB18:
 465:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 466:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     /*
 467:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Having filters disabled we can update the configuration.
 468:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      * Register mapping: FR1 - ID, FR2 - Mask
 469:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****      */
 470:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     for (uint8_t i = 0; i < num_filter_configs; i++)
 1087              		.loc 1 470 0
 1088 0014 22E0     		b	.L102
 1089              	.LVL108:
 1090              	.L103:
 1091              	.LBB19:
 471:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 472:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         /*
 473:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * Converting the ID and the Mask into the representation that can be chewed by the hardwar
 474:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * If Mask asks us to accept both STDID and EXTID, we need to use EXT mode on the filter,
 475:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * otherwise it will reject all EXTID frames. This logic is not documented in the RM.
 476:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 477:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * The logic of the hardware acceptance filters can be described as follows:
 478:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 479:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  accepted = (received_id & filter_mask) == (filter_id & filter_mask)
 480:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 481:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * Where:
 482:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - accepted      - if true, the frame will be accepted by the filter.
 483:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - received_id   - the CAN ID of the received frame, either 11-bit or 29-bit, with exten
 484:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *                    marking extended frames, error frames, etc.
 485:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - filter_id     - the value of the filter ID register.
 486:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - filter_mask   - the value of the filter mask register.
 487:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 488:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * There are special bits that are not members of the CAN ID field:
 489:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - EFF - set for extended frames (29-bit), cleared for standard frames (11-bit)
 490:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  - RTR - like above, indicates Remote Transmission Request frames.
 491:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 492:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * The following truth table summarizes the logic (where: FM - filter mask, FID - filter ID
 493:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * frame ID, A - true if accepted, X - any state):
 494:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 495:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  FM  FID RID A
 496:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  0   X   X   1
 497:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   0   0   1
 498:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   1   0   0
 499:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   0   1   0
 500:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   1   1   1
 501:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 502:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * One would expect that for the purposes of hardware filtering, the special bits should be
 503:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * in the same way as the real ID bits. However, this is not the case with bxCAN. The follo
 504:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * table has been determined empirically (this behavior was not documented as of 2017):
 505:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *
 506:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  FM  FID RID A
 507:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  0   0   0   1
 508:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  0   0   1   0       <-- frame rejected!
 509:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  0   1   X   1
 510:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   0   0   1
 511:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   1   0   0
 512:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   0   1   0
 513:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          *  1   1   1   1
 514:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          */
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 30


 515:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         uint32_t id   = 0;
 516:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         uint32_t mask = 0;
 517:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 518:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const CanardSTM32AcceptanceFilterConfiguration* const cfg = filter_configs + i;
 519:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 520:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if ((cfg->id & CANARD_CAN_FRAME_EFF) || !(cfg->mask & CANARD_CAN_FRAME_EFF))
 521:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 522:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             id   = (cfg->id   & CANARD_CAN_EXT_ID_MASK) << 3U;
 1092              		.loc 1 522 0
 1093 0016 E000     		lsls	r0, r4, #3
 1094              	.LVL109:
 523:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             mask = (cfg->mask & CANARD_CAN_EXT_ID_MASK) << 3U;
 1095              		.loc 1 523 0
 1096 0018 6A68     		ldr	r2, [r5, #4]
 1097 001a D200     		lsls	r2, r2, #3
 1098              	.LVL110:
 524:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             id |= CANARD_STM32_CAN_RIR_IDE;
 1099              		.loc 1 524 0
 1100 001c 40F00400 		orr	r0, r0, #4
 1101              	.LVL111:
 1102              	.L105:
 525:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 526:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         else
 527:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 528:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             id   = (cfg->id   & CANARD_CAN_STD_ID_MASK) << 21U;
 529:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             mask = (cfg->mask & CANARD_CAN_STD_ID_MASK) << 21U;
 530:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 531:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 532:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (cfg->id & CANARD_CAN_FRAME_RTR)
 1103              		.loc 1 532 0
 1104 0020 14F0804F 		tst	r4, #1073741824
 1105 0024 01D0     		beq	.L106
 533:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 534:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             id |= CANARD_STM32_CAN_RIR_RTR;
 1106              		.loc 1 534 0
 1107 0026 40F00200 		orr	r0, r0, #2
 1108              	.LVL112:
 1109              	.L106:
 535:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 536:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 537:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (cfg->mask & CANARD_CAN_FRAME_EFF)
 1110              		.loc 1 537 0
 1111 002a 6C68     		ldr	r4, [r5, #4]
 1112 002c 002C     		cmp	r4, #0
 1113 002e 23DB     		blt	.L116
 1114              	.L107:
 538:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 539:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             mask |= CANARD_STM32_CAN_RIR_IDE;
 540:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 541:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 542:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         if (cfg->mask & CANARD_CAN_FRAME_RTR)
 1115              		.loc 1 542 0
 1116 0030 14F0804F 		tst	r4, #1073741824
 1117 0034 01D0     		beq	.L108
 543:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 544:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             mask |= CANARD_STM32_CAN_RIR_RTR;
 1118              		.loc 1 544 0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 31


 1119 0036 42F00202 		orr	r2, r2, #2
 1120              	.LVL113:
 1121              	.L108:
 545:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 546:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 547:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         /*
 548:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          * Applying the converted representation to the registers.
 549:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****          */
 550:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         const uint8_t filter_index =
 551:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #if CANARD_STM32_USE_CAN2
 552:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             (uint8_t)(i + CANARD_STM32_NUM_ACCEPTANCE_FILTERS);
 553:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #else
 554:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             i;
 555:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** #endif
 556:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         CANARD_STM32_CAN1->FilterRegister[filter_index].FR1 = id;
 1122              		.loc 1 556 0 discriminator 2
 1123 003a 154C     		ldr	r4, .L118
 1124 003c 03F14805 		add	r5, r3, #72
 1125              	.LVL114:
 1126 0040 44F83500 		str	r0, [r4, r5, lsl #3]
 557:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         CANARD_STM32_CAN1->FilterRegister[filter_index].FR2 = mask;
 1127              		.loc 1 557 0 discriminator 2
 1128 0044 04EBC505 		add	r5, r4, r5, lsl #3
 1129 0048 6A60     		str	r2, [r5, #4]
 558:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 559:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         CANARD_STM32_CAN1->FA1R |= 1U << filter_index;      // Enable
 1130              		.loc 1 559 0 discriminator 2
 1131 004a D4F81C22 		ldr	r2, [r4, #540]
 1132              	.LVL115:
 1133 004e 0120     		movs	r0, #1
 1134              	.LVL116:
 1135 0050 9840     		lsls	r0, r0, r3
 1136 0052 0243     		orrs	r2, r2, r0
 1137 0054 C4F81C22 		str	r2, [r4, #540]
 1138              	.LVL117:
 1139              	.LBE19:
 470:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 1140              		.loc 1 470 0 discriminator 2
 1141 0058 0133     		adds	r3, r3, #1
 1142              	.LVL118:
 1143 005a DBB2     		uxtb	r3, r3
 1144              	.LVL119:
 1145              	.L102:
 470:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     {
 1146              		.loc 1 470 0 is_stmt 0 discriminator 1
 1147 005c 8B42     		cmp	r3, r1
 1148 005e 0ED2     		bcs	.L117
 1149              	.LVL120:
 1150              	.LBB20:
 518:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 1151              		.loc 1 518 0 is_stmt 1
 1152 0060 06EBC305 		add	r5, r6, r3, lsl #3
 1153              	.LVL121:
 520:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 1154              		.loc 1 520 0
 1155 0064 56F83340 		ldr	r4, [r6, r3, lsl #3]
 1156 0068 002C     		cmp	r4, #0
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 32


 1157 006a D4DB     		blt	.L103
 520:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         {
 1158              		.loc 1 520 0 is_stmt 0 discriminator 1
 1159 006c 6A68     		ldr	r2, [r5, #4]
 1160 006e 002A     		cmp	r2, #0
 1161 0070 D1DA     		bge	.L103
 528:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****             mask = (cfg->mask & CANARD_CAN_STD_ID_MASK) << 21U;
 1162              		.loc 1 528 0 is_stmt 1
 1163 0072 6005     		lsls	r0, r4, #21
 1164              	.LVL122:
 529:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 1165              		.loc 1 529 0
 1166 0074 5205     		lsls	r2, r2, #21
 1167              	.LVL123:
 1168 0076 D3E7     		b	.L105
 1169              	.L116:
 539:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****         }
 1170              		.loc 1 539 0
 1171 0078 42F00402 		orr	r2, r2, #4
 1172              	.LVL124:
 1173 007c D8E7     		b	.L107
 1174              	.LVL125:
 1175              	.L117:
 1176              	.LBE20:
 1177              	.LBE18:
 560:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 561:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 562:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return 0;
 1178              		.loc 1 562 0
 1179 007e 0020     		movs	r0, #0
 1180              	.LVL126:
 1181              	.L101:
 563:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 1182              		.loc 1 563 0
 1183 0080 70BC     		pop	{r4, r5, r6}
 1184              	.LCFI18:
 1185              		.cfi_restore 6
 1186              		.cfi_restore 5
 1187              		.cfi_restore 4
 1188              		.cfi_def_cfa_offset 0
 1189              	.LVL127:
 1190 0082 7047     		bx	lr
 1191              	.LVL128:
 1192              	.L110:
 457:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 1193              		.loc 1 457 0
 1194 0084 6FF00100 		mvn	r0, #1
 1195              	.LVL129:
 1196              		.loc 1 563 0
 1197 0088 7047     		bx	lr
 1198              	.LVL130:
 1199              	.L111:
 1200              	.LCFI19:
 1201              		.cfi_def_cfa_offset 12
 1202              		.cfi_offset 4, -12
 1203              		.cfi_offset 5, -8
 1204              		.cfi_offset 6, -4
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 33


 457:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     }
 1205              		.loc 1 457 0
 1206 008a 6FF00100 		mvn	r0, #1
 1207              	.LVL131:
 1208 008e F7E7     		b	.L101
 1209              	.L119:
 1210              		.align	2
 1211              	.L118:
 1212 0090 00640040 		.word	1073767424
 1213              		.cfi_endproc
 1214              	.LFE14:
 1216              		.section	.text.canardSTM32GetStats,"ax",%progbits
 1217              		.align	1
 1218              		.global	canardSTM32GetStats
 1219              		.syntax unified
 1220              		.thumb
 1221              		.thumb_func
 1222              		.fpu fpv4-sp-d16
 1224              	canardSTM32GetStats:
 1225              	.LFB15:
 564:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 565:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** 
 566:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** CanardSTM32Stats canardSTM32GetStats(void)
 567:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** {
 1226              		.loc 1 567 0
 1227              		.cfi_startproc
 1228              		@ args = 0, pretend = 0, frame = 0
 1229              		@ frame_needed = 0, uses_anonymous_args = 0
 1230              		@ link register save eliminated.
 1231              	.LVL132:
 1232 0000 10B4     		push	{r4}
 1233              	.LCFI20:
 1234              		.cfi_def_cfa_offset 4
 1235              		.cfi_offset 4, -4
 1236 0002 0446     		mov	r4, r0
 568:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c ****     return g_stats;
 1237              		.loc 1 568 0
 1238 0004 034B     		ldr	r3, .L122
 1239 0006 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1240              	.LVL133:
 1241 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 569:Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.c **** }
 1242              		.loc 1 569 0
 1243 000c 2046     		mov	r0, r4
 1244 000e 5DF8044B 		ldr	r4, [sp], #4
 1245              	.LCFI21:
 1246              		.cfi_restore 4
 1247              		.cfi_def_cfa_offset 0
 1248              	.LVL134:
 1249 0012 7047     		bx	lr
 1250              	.L123:
 1251              		.align	2
 1252              	.L122:
 1253 0014 00000000 		.word	.LANCHOR0
 1254              		.cfi_endproc
 1255              	.LFE15:
 1257              		.section	.bss.g_abort_tx_on_error,"aw",%nobits
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 34


 1258              		.set	.LANCHOR1,. + 0
 1261              	g_abort_tx_on_error:
 1262 0000 00       		.space	1
 1263              		.section	.bss.g_stats,"aw",%nobits
 1264              		.align	3
 1265              		.set	.LANCHOR0,. + 0
 1268              	g_stats:
 1269 0000 00000000 		.space	16
 1269      00000000 
 1269      00000000 
 1269      00000000 
 1270              		.section	.rodata.RFxR.7272,"a",%progbits
 1271              		.align	2
 1272              		.set	.LANCHOR4,. + 0
 1275              	RFxR.7272:
 1276 0000 0C640040 		.word	1073767436
 1277 0004 10640040 		.word	1073767440
 1278              		.section	.rodata.__func__.7255,"a",%progbits
 1279              		.align	2
 1280              		.set	.LANCHOR2,. + 0
 1283              	__func__.7255:
 1284 0000 63616E61 		.ascii	"canardSTM32Init\000"
 1284      72645354 
 1284      4D333249 
 1284      6E697400 
 1285              		.section	.rodata.__func__.7267,"a",%progbits
 1286              		.align	2
 1287              		.set	.LANCHOR3,. + 0
 1290              	__func__.7267:
 1291 0000 63616E61 		.ascii	"canardSTM32Transmit\000"
 1291      72645354 
 1291      4D333254 
 1291      72616E73 
 1291      6D697400 
 1292              		.section	.rodata.canardSTM32Init.str1.4,"aMS",%progbits,1
 1293              		.align	2
 1294              	.LC0:
 1295 0000 30203D3D 		.ascii	"0 == ((volatile CanardSTM32CANType*)0x40006400U)->I"
 1295      20282876 
 1295      6F6C6174 
 1295      696C6520 
 1295      43616E61 
 1296 0033 455200   		.ascii	"ER\000"
 1297 0036 0000     		.space	2
 1298              	.LC1:
 1299 0038 4D696464 		.ascii	"Middlewares/Third_Party/libcanard/drivers/stm32/can"
 1299      6C657761 
 1299      7265732F 
 1299      54686972 
 1299      645F5061 
 1300 006b 6172645F 		.ascii	"ard_stm32.c\000"
 1300      73746D33 
 1300      322E6300 
 1301 0077 00       		.space	1
 1302              	.LC2:
 1303 0078 28282828 		.ascii	"((((volatile CanardSTM32CANType*)0x40006400U)->FMR "
 1303      766F6C61 
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 35


 1303      74696C65 
 1303      2043616E 
 1303      61726453 
 1304 00ab 3E3E2038 		.ascii	">> 8U) & 0x3FU) == 14U\000"
 1304      55292026 
 1304      20307833 
 1304      46552920 
 1304      3D3D2031 
 1305              		.section	.rodata.canardSTM32Transmit.str1.4,"aMS",%progbits,1
 1306              		.align	2
 1307              	.LC3:
 1308 0000 21224341 		.ascii	"!\"CAN PRIO INV\"\000"
 1308      4E205052 
 1308      494F2049 
 1308      4E562200 
 1309              	.LC4:
 1310 0010 74785F6D 		.ascii	"tx_mailbox < 3\000"
 1310      61696C62 
 1310      6F78203C 
 1310      203300
 1311              		.text
 1312              	.Letext0:
 1313              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/machine/_d
 1314              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/sys/_stdin
 1315              		.file 4 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/stdint.h"
 1316              		.file 5 "Middlewares/Third_Party/libcanard/canard.h"
 1317              		.file 6 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/sys/lock.h
 1318              		.file 7 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/sys/_types
 1319              		.file 8 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/lib/gcc/arm-none-eabi/7.3.1/incl
 1320              		.file 9 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/sys/reent.
 1321              		.file 10 "Middlewares/Third_Party/libcanard/drivers/stm32/canard_stm32.h"
 1322              		.file 11 "Middlewares/Third_Party/libcanard/drivers/stm32/_internal_bxcan.h"
 1323              		.file 12 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/sys/unist
 1324              		.file 13 "Inc/FreeRTOSConfig.h"
 1325              		.file 14 "/usr/local/Cellar/arm-none-eabi-gcc/7-2018-q2-update/gcc/arm-none-eabi/include/assert.h"
 1326              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
ARM GAS  /var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s 			page 36


DEFINED SYMBOLS
                            *ABS*:0000000000000000 canard_stm32.c
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:18     .text.isFramePriorityHigher:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:24     .text.isFramePriorityHigher:0000000000000000 isFramePriorityHigher
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:125    .text.convertFrameIDCanardToRegister:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:131    .text.convertFrameIDCanardToRegister:0000000000000000 convertFrameIDCanardToRegister
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:166    .text.convertFrameIDRegisterToCanard:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:172    .text.convertFrameIDRegisterToCanard:0000000000000000 convertFrameIDRegisterToCanard
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:209    .text.processErrorStatus:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:215    .text.processErrorStatus:0000000000000000 processErrorStatus
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:272    .text.processErrorStatus:0000000000000044 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:280    .text.waitMSRINAKBitStateChange:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:286    .text.waitMSRINAKBitStateChange:0000000000000000 waitMSRINAKBitStateChange
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:352    .text.canardSTM32Init:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:359    .text.canardSTM32Init:0000000000000000 canardSTM32Init
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:650    .text.canardSTM32Init:00000000000001a8 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:662    .text.canardSTM32Transmit:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:669    .text.canardSTM32Transmit:0000000000000000 canardSTM32Transmit
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:891    .text.canardSTM32Transmit:00000000000000fc $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:901    .text.canardSTM32Receive:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:908    .text.canardSTM32Receive:0000000000000000 canardSTM32Receive
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1045   .text.canardSTM32Receive:0000000000000094 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1052   .text.canardSTM32ConfigureAcceptanceFilters:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1059   .text.canardSTM32ConfigureAcceptanceFilters:0000000000000000 canardSTM32ConfigureAcceptanceFilters
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1212   .text.canardSTM32ConfigureAcceptanceFilters:0000000000000090 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1217   .text.canardSTM32GetStats:0000000000000000 $t
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1224   .text.canardSTM32GetStats:0000000000000000 canardSTM32GetStats
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1253   .text.canardSTM32GetStats:0000000000000014 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1261   .bss.g_abort_tx_on_error:0000000000000000 g_abort_tx_on_error
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1262   .bss.g_abort_tx_on_error:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1264   .bss.g_stats:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1268   .bss.g_stats:0000000000000000 g_stats
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1271   .rodata.RFxR.7272:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1275   .rodata.RFxR.7272:0000000000000000 RFxR.7272
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1279   .rodata.__func__.7255:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1283   .rodata.__func__.7255:0000000000000000 __func__.7255
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1286   .rodata.__func__.7267:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1290   .rodata.__func__.7267:0000000000000000 __func__.7267
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1293   .rodata.canardSTM32Init.str1.4:0000000000000000 $d
/var/folders/pr/jy5_dyq97qq9ykqb3p58dhg00000gn/T//ccQLJI5J.s:1306   .rodata.canardSTM32Transmit.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
osDelay
__assert_func
